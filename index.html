<!DOCTYPE html>
<html>
<head>
    <title>Milestone 4 Project</title>
    <link rel="stylesheet" type="text/css" href="app.css">
    <link rel="shortcut icon" type="image/x-icon" href="music.ico"/>
</head>
<h1>Milestone 4 Project - Visualizing Spotify Data in North and South America</h1>
<h2>CPSC 4030 - David Cherne & Olivia Papotto</h2>  

<body>
    <div class="container">
    <p>Our Milestone 4 Project consists of gathering data from www.spotifycharts.com, a
        website created by Spotify that shows the 
        Top 200 Songs filtered by location (globally or within a specific country), 
        time frame (daily or weekly), and the date (ranging from present day to 01/01/17).
    </p>
    <p>After first discovering the data on the Spotify Charts website, we
        became curious as to how different genres trend across the Americas and overall wondered
        how different countries listen to music. This resulted in the creation of three separate graphs shown below.
        Graph 1 explores how many songs were streamed in North and South America, based off of the top 200 songs for 10/11/20.
        Graph 2 looks at the genre that was overall most popular on 10/11/20. Lastly, Graph 3 looks at the
        popularity of the Top 5 Genres in the Americas (Latin, Pop, Rap, Hip-Hop, and Carioca) for each country. This was
        computed by taking the amount of streams for one genre, divided by the total streams in North and South America for that same genre.  
    </p>
    <p>The data gathered from the website did not originally include the genre for each song, so we
        had to code our own program in python that would utilize Spotify's API to search the artist of the song, and take
        the artists' genre instead. The trade-off of not having to manually enter the genre of approximately 3,800 songs
        is that there might be a discrepancy between the genre of a song and the genre of the artist of that song. However,
        the genre of the artist is declared by themself, so we felt like this was a compromise we were willing to make for the
        sake of the visualization.     
    </p>
    <p>The gathering of the data itself also took time; while you are able to quickly download the data from each page individually,
        switching from page-to-page for an entire year would become tedious: gathering data from 19 countries with 365 days in a year would
        mean we would need to sift through about 6,395 files of data! On top of this, the program written to find the genre of each song and record
        it took about a minute per file. Assuming there were no crashes or malfunctions, this would mean we would need to let the program run for 116 hours
        straight before every song -- which would be a total of 1,387,000 songs at this point -- would have their genre recorded.
    </p>
    <p>This was not to mention that some artists did not have a declared genre, to which Spotify would automatically list it as "None", or
        that most artists had an extremely specific genre, such as "South Carolina Hip Hop". To combat this, we still had to find ways to
        sift through every song individually and change their genre to be as broad as possible (for the above example, the song's genre would be
        changed to "Hip-Hop" instead.) As you can see, doing this for information for an entire year would take significantly longer and take up
        significantly more space, so we settled for gathering the data for one day instead.
    </p>
    

    <p>To see each of the different graphs, simply scroll through the page to see each of the three graphs. 
       You can hover over the countries to see their name, as well as specifics for the data that is relevant to that graph.
    </p>

    <p><i>Note: Data was not available from Spotify for the following countries: The Bahamas, Belize, Cuba, Guyana, Haiti, Jamaica, Suriname, Trinidad and Tobago, Venezuela</i></p>
    
    <p><i>We also ask that you view this site in full-screen mode on your browser for an optimal viewing experience. Thank you.</i></p>
    </div>

    <p> </p>
    
    <h2>Graph 1 - Number of Streams on 10/11/20 in North and South America</h2>
    <p2> This graph visualizes the volume of streams from each country that makes up the total amount of streams from North and South America.
        Deeper shades of green indicate more streams coming from that country, whereas more white countries indicate less streams. A completely white
        country indicates very little to no streams coming from that country.
    </p2>
    
    <div class="graph">

    <div class="styles"></div>
    <div class="themap"></div>
    <div class="random"></div>
    
    <script type="module" class="graph">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
    import define from "https://api.observablehq.com/@oliviapapotto/milestone-4-map/2.js?v=3";
    (new Runtime).module(define, name => {
      if (name === "styles") return Inspector.into(".styles")();
      if (name === "themap") return Inspector.into(".themap")();
      if (name === "random") return Inspector.into(".random")();
    });
    </script>
    </div>

    <p> </p>
    <h2>Graph 2 - Most Popular Genre on 10/11/20 in North and South America</h2>
    <p2> This graph visualizes the most popular genre of each country, and coloring it based on that genre. "Most popular" was determined
        by taking the genre that was was associated with the most streams out of the countries total streams; in other words, each song
        had its streams added to genre that corresponded with the genre of the song, and the genre with the most streams was declared most popular.
        Countries that are completely white indicate no data supplied from Spotify.
    </p2>
    

    <div class="graph"><div class="styles"></div>
    <div class="themap2"></div>
    <div class="swatchy"></div>
    
    <script type="module">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
    import define from "https://api.observablehq.com/@oliviapapotto/milestone-4-map/2.js?v=3";
    (new Runtime).module(define, name => {
      if (name === "styles") return Inspector.into(".styles")();
      if (name === "themap2") return Inspector.into(".themap2")();
      if (name === "swatchy") return Inspector.into(".swatchy")();
    });
    </script></div>
  
  
  <p> </p>
    <h2>Graph 3 - Popularity of the Top 5 Genres on 10/11/20 in North and South America</h2>
    <p2> This graph visualizes the volume of streams of each country coming from each genre. The total number of streams for each genre was
        gathered, and then the countries were shaded according to how many streams make up that total. Deeper shades of the genres' color indicate
        more contribution to the genres' total stream count. A completely white country indicates very little to no streams contributing to the
        total stream count for that genre.
    </p2>
    
    <div class="graph"><div class="styles"></div>
    <div class="viewof-r"></div>
    <div class="themap3"></div>
    <div class="rand"></div>
    
    <script type="module">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
    import define from "https://api.observablehq.com/@oliviapapotto/milestone-4-map/2.js?v=3";
    (new Runtime).module(define, name => {
      if (name === "styles") return Inspector.into(".styles")();
      if (name === "viewof r") return Inspector.into(".viewof-r")();
      if (name === "themap3") return Inspector.into(".themap3")();
      if (name === "rand") return Inspector.into(".rand")();
    });
    </script></div>

</body>
</html>
